เหตุการณ์ที่ 1 – รถคันที่ 1 ใช้หัว Connector 1
curl -X POST http://45.136.236.186:7071/plug/1
# ตรวจสอบสถานะหัวชาร์จและรับค่าจากรถ
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/status
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/pending
# สมมติได้ idTag จากคำสั่งด้านบนแล้วนำมาใช้ใน start
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1,"id_tag":"VID:FCA47A147858"}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","transactionId":1}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/history
curl -X POST http://45.136.236.186:8080/charge/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -X POST http://45.136.236.186:7071/unplug/1
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/health

เหตุการณ์ที่ 2 – รถคันที่ 2 ใช้หัว Connector 2
curl -X POST http://45.136.236.186:7071/plug/2
# ตรวจสอบสถานะหัวชาร์จและรับค่าจากรถ
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/status
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/pending
# สมมติได้ idTag จากคำสั่งด้านบนแล้วนำมาใช้ใน start
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2,"id_tag":"VID:FCA47A147859"}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","transactionId":2}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/history
curl -X POST http://45.136.236.186:8080/charge/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2}'
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2}'
curl -X POST http://45.136.236.186:7071/unplug/2
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/health

เหตุการณ์ที่ 3 – รถคันที่ 3 ใช้หัว Connector 1 และ 2
curl -X POST http://45.136.236.186:7071/plug/1
curl -X POST http://45.136.236.186:7071/plug/2
# ตรวจสอบสถานะหัวชาร์จและรับค่าจากรถทั้งสองหัว
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/status
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/pending
# สมมติได้ idTag จากคำสั่งด้านบนแล้วนำมาใช้ใน start ของแต่ละหัว
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1,"id_tag":"VID:FCA47A147860"}'
curl -X POST http://45.136.236.186:8080/api/v1/start -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2,"id_tag":"VID:FCA47A147861"}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","transactionId":3}'
curl -X POST http://45.136.236.186:8080/api/v1/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","transactionId":4}'
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/active
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/history
curl -X POST http://45.136.236.186:8080/charge/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -X POST http://45.136.236.186:8080/charge/stop -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2}'
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":1}'
curl -X POST http://45.136.236.186:8080/api/v1/release -H "Content-Type: application/json" -H "X-API-Key: changeme-123" -d '{"cpid":"Gresgying01","connectorId":2}'
curl -X POST http://45.136.236.186:7071/unplug/1
curl -X POST http://45.136.236.186:7071/unplug/2
curl -H "X-API-Key: changeme-123" http://45.136.236.186:8080/api/v1/health

หมายเหตุ: ปรับค่า transactionId ให้ตรงกับที่ GET /api/v1/active รายงานในแต่ละเหตุการณ์ และหากมีปัญหาหยุดไม่สำเร็จให้ใช้ /charge/stop ตามด้วย /release ก่อนสั่ง unplug เสมอ